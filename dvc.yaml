stages:
  feature:
    cmd: python src/models/Cat-Boost/featurize.py data/data data/feature
    deps:
    - src/models/Cat-Boost/featurize.py
    - data/data
    params:
    - featurize.fs_select
    outs:
    - data/feature:
        persist: true
  train:
    cmd: python src/models/Cat-Boost/train.py data/feature/cb_train.csv
    deps:
    - data/feature/cb_train.csv
    params:
    - train.train_size
    - train.f1-type
    - train.loss_function
    - train.device
    - train.n_iter
    - train.seed
    outs:
    - parameters.json:
        persist: true
  evaluation:
    cmd: python src/models/Cat-Boost/evaluate.py data/feature data/model/cat-cl.pkl
    deps:
    - data/feature
    - src/models/Cat-Boost/parameters.json
    params:
    - train.lr
    - train.n_estimators
    - train.objective
    outs:
    - data/model/cat-cl.pkl:
        persist: true
    metrics:
    - score.json:
        cache: true